<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EduBloom | كُتيّب قواعد اللغة الإنجليزية للصفين 11-12</title>
<meta name="description" content="كتيّب إلكتروني ثنائي اللغة يغطي قواعد اللغة الإنجليزية للصفين الحادي عشر والثاني عشر مع تمارين واختبارات.">
<style>
:root{
--brand:#2A7DE1; /* أزرق الشعار */
--brand-dark:#1d51a3;
--accent:#14B8A6; /* فيروزي */
--text:#0f172a;
--muted:#475569;
--bg:#f8fafc;
--card:#ffffff;
--danger:#ef4444;
--success:#16a34a;
--warning:#f59e0b;
--shadow:0 6px 20px rgba(0,0,0,.08);
--radius:14px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";line-height:1.6}

/* حاوية عامة */
.container{max-width:1000px;margin:0 auto;padding:16px}
header.hero{
background:linear-gradient(135deg,var(--brand) 0%, var(--accent) 100%);
color:#fff;
padding:40px 16px 24px;
position:relative;
overflow:hidden;
}
.hero .container{position:relative;z-index:2}
.bubble{
position:absolute;border-radius:50%;filter:blur(8px);opacity:.18;
animation:float 9s ease-in-out infinite alternate;
}
.bubble.b1{width:220px;height:220px;background:#fff;top:-60px;left:-40px}
.bubble.b2{width:160px;height:160px;background:#fff;bottom:-40px;right:-20px;animation-delay:1s}
@keyframes float {
to { transform: translateY(20px) translateX(15px) }
}

.brand{
display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:space-between
}
.logo{
display:flex;align-items:center;gap:10px
}
.logo-badge{
width:44px;height:44px;border-radius:12px;
background:#fff;color:var(--brand);
display:grid;place-items:center;
font-weight:800;box-shadow:var(--shadow)
}
.brand h1{
margin:0;font-size:24px;font-weight:800;letter-spacing:.5px
}
.lang-toggle{
display:flex;gap:8px;background:rgba(255,255,255,.2);
padding:6px;border-radius:999px;backdrop-filter:blur(6px)
}
.lang-toggle button{
border:0;background:transparent;color:#fff;padding:8px 12px;border-radius:999px;
font-weight:700;cursor:pointer
}
.lang-toggle button.active{background:#fff;color:var(--brand)}
.hero-content{
margin-top:22px;display:grid;gap:14px
}
.hero-title{
font-size:28px;margin:0 0 6px;font-weight:900
}
.hero-sub{opacity:.95;margin:0}
.cta-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.btn{
border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer
}
.btn.primary{background:#fff;color:var(--brand)}
.btn.secondary{background:rgba(255,255,255,.18);color:#fff;border:1px solid rgba(255,255,255,.3)}
.note{
margin-top:8px;font-size:.92rem;opacity:.9
}

/* بطاقة غلاف */
.cover{
margin-top:-24px
}
.cover-card{
background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
padding:18px;display:grid;gap:12px
}
.cover-grid{
display:grid;grid-template-columns:1fr;gap:16px
}
@media(min-width:760px){
.cover-grid{grid-template-columns:1.1fr .9fr}
}
.cover-visual{
background:conic-gradient(from 220deg at 70% 30%, #e0f2fe, #ecfeff, #f0fdf4, #eef2ff);
border-radius:16px;min-height:180px;position:relative;overflow:hidden
}
.cover-illustration{
position:absolute;inset:0;padding:18px;display:grid;place-items:center
}
canvas{max-width:100%;height:auto}

.meta{
display:grid;gap:6px;color:var(--muted);font-size:.95rem
}
.badge{
display:inline-flex;align-items:center;gap:8px;background:#eff6ff;color:#1e40af;
padding:8px 10px;border-radius:999px;font-weight:700;font-size:.9rem
}

/* فهرس */
nav.toc{
margin-top:18px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
padding:16px
}
.toc-grid{
display:grid;grid-template-columns:1fr;gap:12px
}
@media(min-width:680px){
.toc-grid{grid-template-columns:1fr 1fr}
}
.toc-item{
border:1px solid #e2e8f0;border-radius:12px;padding:12px;display:flex;justify-content:space-between;align-items:center;
background:#fff;transition:transform .1s ease, box-shadow .2s ease;cursor:pointer
}
.toc-item:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
.toc-item .title{font-weight:800}
.toc-item .desc{color:var(--muted);font-size:.92rem}

/* المحتوى */
section.unit{
margin-top:18px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
padding:18px
}
.unit-header{
display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap
}
.unit-title{
margin:0;font-size:20px;font-weight:900;color:var(--brand-dark)
}
.pill{
background:#f1f5f9;color:#0f172a;border-radius:999px;padding:6px 10px;font-weight:700;font-size:.85rem
}
.dual{
display:grid;gap:10px
}
@media(min-width:760px){
.dual{grid-template-columns:1fr 1fr}
}
h3{margin:10px 0 6px}
.callout{
border-left:4px solid var(--accent);background:#ecfeff;border-radius:10px;padding:10px;margin:10px 0
}
.rules{display:grid;gap:8px}
.rule{
border:1px dashed #e2e8f0;border-radius:10px;padding:10px;background:#fff
}
ul{margin:8px 0 0 1rem}
.examples{
background:#f8fafc;border-radius:10px;padding:10px;border:1px solid #e2e8f0
}
.sig{display:inline-block;margin-inline-start:6px;padding:2px 8px;border-radius:999px;background:#eef2ff;color:#3730a3;font-weight:700;font-size:.85rem}

/* تمارين */
.exercise{border:1px solid #e2e8f0;border-radius:12px;padding:12px;margin-top:10px;background:#fff}
.exercise h4{margin:0 0 8px}
.q{margin:8px 0}
.q input[type="text"], .q select{
width:100%;padding:10px;border:1px solid #cbd5e1;border-radius:10px;font-size:1rem
}
.action-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.btn.small{padding:8px 12px;border-radius:10px}
.score{font-weight:800}
.feedback{margin-top:8px;font-size:.95rem}
.correct{color:var(--success)}
.incorrect{color:var(--danger)}

/* ذيل الصفحة */
footer{
margin:30px 0;padding:16px;text-align:center;color:var(--muted);font-size:.9rem
}
</style>
</head>
<body>
<!-- رأس وغطاء -->
<header class="hero">
<div class="bubble b1"></div>
<div class="bubble b2"></div>
<div class="container">
<div class="brand">
<div class="logo">
<div class="logo-badge" aria-label="EduBloom">EB</div>
<h1>EduBloom | English Grammar Handbook</h1>
</div>
<div class="lang-toggle" role="group" aria-label="Language toggle">
<button id="btn-ar" class="active" data-lang="ar" aria-pressed="true">العربية</button>
<button id="btn-en" data-lang="en" aria-pressed="false">English</button>
</div>
</div>

<div class="hero-content">
<p class="hero-title" data-ar="كُتيّب قواعد اللغة الإنجليزية للصفين 11–12" data-en="English Grammar Handbook for Grades 11–12">كُتيّب قواعد اللغة الإنجليزية للصفين 11–12</p>
<p class="hero-sub" data-ar="محتوى شامل + تمارين واختبارات تفاعلية لتعزيز مستواك والنجاح في الاختبارات." data-en="Comprehensive lessons with interactive exercises and quizzes to boost your performance.">محتوى شامل + تمارين واختبارات تفاعلية لتعزيز مستواك والنجاح في الاختبارات.</p>
<div class="cta-row">
<a href="#toc" class="btn primary" data-ar="انتقل إلى الفهرس" data-en="Go to Contents">انتقل إلى الفهرس</a>
<a href="#unit-1" class="btn secondary" data-ar="ابدأ الآن" data-en="Start Now">ابدأ الآن</a>
</div>
<p class="note" data-ar="الواجهة ثنائية اللغة. لا يتم تخزين أي بيانات أو تتبّع للتقدّم." data-en="Bilingual interface. No data storage or progress tracking.">الواجهة ثنائية اللغة. لا يتم تخزين أي بيانات أو تتبّع للتقدّم.</p>
</div>
</div>
</header>

<main class="container cover" id="cover">
<section class="cover-card" aria-label="غلاف الكتاب">
<div class="cover-grid">
<div class="cover-visual">
<div class="cover-illustration">
<!-- رسم توضيحي مولّد عبر Canvas -->
<canvas id="coverCanvas" width="520" height="260" aria-label="EduBloom abstract illustration"></canvas>
</div>
</div>
<div class="meta">
<span class="badge">EduBloom • Grades 11–12</span>
<div>
<strong data-ar="ما الذي ستحصل عليه؟" data-en="What will you get?">ما الذي ستحصل عليه؟</strong>
<ul>
<li data-ar="4 وحدات مركّزة تغطي قواعد أساسية ومتقدمة." data-en="4 focused units covering core and advanced grammar.">4 وحدات مركّزة تغطي قواعد أساسية ومتقدمة.</li>
<li data-ar="شروحات موجزة مع أمثلة عمليّة." data-en="Concise explanations with practical examples.">شروحات موجزة مع أمثلة عمليّة.</li>
<li data-ar="تمارين تفاعلية واختبارات قصيرة مع التصحيح الفوري." data-en="Interactive exercises and short quizzes with instant feedback.">تمارين تفاعلية واختبارات قصيرة مع التصحيح الفوري.</li>
<li data-ar="واجهة عربية/إنجليزية للتعلّم المريح." data-en="Arabic/English interface for flexible learning.">واجهة عربية/إنجليزية للتعلّم المريح.</li>
</ul>
</div>
<div>
<strong data-ar="الفئة المستهدفة:" data-en="Target audience:">الفئة المستهدفة:</strong>
<span data-ar="طلاب الصفين الحادي عشر والثاني عشر." data-en="Grade 11 and 12 students.">طلاب الصفين الحادي عشر والثاني عشر.</span>
</div>
<div>
<strong data-ar="طريقة الاستخدام:" data-en="How to use:">طريقة الاستخدام:</strong>
<span data-ar="اقرأ الشرح القصير، طبّق التمارين، ثم اختبر نفسك في نهاية كل وحدة." data-en="Read the brief explanations, practice, then take the unit quiz.">اقرأ الشرح القصير، طبّق التمارين، ثم اختبر نفسك في نهاية كل وحدة.</span>
</div>
</div>
</div>
</section>

<!-- فهرس -->
<nav id="toc" class="toc" aria-label="الفهرس">
<h2 style="margin-top:0" data-ar="الفهرس" data-en="Contents">الفهرس</h2>
<div class="toc-grid">
<a class="toc-item" href="#unit-1">
<div>
<div class="title" data-ar="الوحدة 1: الأزمنة الأساسية والمتقدمة" data-en="Unit 1: Core and Advanced Tenses">الوحدة 1: الأزمنة الأساسية والمتقدمة</div>
<div class="desc" data-ar="Present/Past/Future • Perfect/Continuous • Markers" data-en="Present/Past/Future • Perfect/Continuous • Markers">Present/Past/Future • Perfect/Continuous • Markers</div>
</div>
<span class="pill" data-ar="ابدأ" data-en="Start">ابدأ</span>
</a>
<a class="toc-item" href="#unit-2">
<div>
<div class="title" data-ar="الوحدة 2: الكلام المنقول والمبني للمجهول" data-en="Unit 2: Reported Speech and Passive Voice">الوحدة 2: الكلام المنقول والمبني للمجهول</div>
<div class="desc" data-ar="Statements • Questions • Commands • Passive in all tenses" data-en="Statements • Questions • Commands • Passive in all tenses">Statements • Questions • Commands • Passive in all tenses</div>
</div>
<span class="pill" data-ar="تابع" data-en="Go">تابع</span>
</a>
<a class="toc-item" href="#unit-3">
<div>
<div class="title" data-ar="الوحدة 3: الشرط والرغبات" data-en="Unit 3: Conditionals and Wishes">الوحدة 3: الشرط والرغبات</div>
<div class="desc" data-ar="0–1–2–3 • Mixed • If only / I wish" data-en="0–1–2–3 • Mixed • If only / I wish">0–1–2–3 • Mixed • If only / I wish</div>
</div>
<span class="pill" data-ar="تابع" data-en="Go">تابع</span>
</a>
<a class="toc-item" href="#unit-4">
<div>
<div class="title" data-ar="الوحدة 4: الروابط والاتساق النصّي" data-en="Unit 4: Linking Words and Cohesion">الوحدة 4: الروابط والاتساق النصّي</div>
<div class="desc" data-ar="Contrast • Cause/Result • Addition • Concession • Purpose" data-en="Contrast • Cause/Result • Addition • Concession • Purpose">Contrast • Cause/Result • Addition • Concession • Purpose</div>
</div>
<span class="pill" data-ar="تابع" data-en="Go">تابع</span>
</a>
</div>
</nav>

<!-- الوحدات: لكل وحدة شرح أساسي + تمارين بسيطة + اختبار قصير -->
<!-- وحدة 1 -->
<section id="unit-1" class="unit" aria-labelledby="u1-title">
<div class="unit-header">
<h2 id="u1-title" class="unit-title" data-ar="الوحدة 1: الأزمنة الأساسية والمتقدمة" data-en="Unit 1: Core and Advanced Tenses">الوحدة 1: الأزمنة الأساسية والمتقدمة</h2>
<span class="pill" data-ar="الهدف: الاتساق الزمني واستخدام المؤشرات" data-en="Goal: Consistent tense use and time markers">الهدف: الاتساق الزمني واستخدام المؤشرات</span>
</div>

<div class="dual">
<div>
<h3 data-ar="القاعدة باختصار" data-en="Rule in Brief">القاعدة باختصار</h3>
<div class="rules">
<div class="rule">
<strong>Present Perfect <span class="sig">have/has + V3</span></strong>
<ul>
<li data-ar="خبرة أو نتيجة حاضرة وزمن غير محدد." data-en="Experience/result with unspecified time.">خبرة أو نتيجة حاضرة وزمن غير محدد.</li>
<li data-ar="كلمات إشارة: ever, never, already, yet, just, since, for" data-en="Signals: ever, never, already, yet, just, since, for">كلمات إشارة: ever, never, already, yet, just, since, for</li>
</ul>
<div class="examples">
<em data-ar="مثال:" data-en="Example:">مثال:</em> I have finished my project.
</div>
</div>
<div class="rule">
<strong>Past Simple <span class="sig">V2</span></strong>
<ul>
<li data-ar="حدث انتهى في وقت محدد في الماضي." data-en="Completed action at a specific past time.">حدث انتهى في وقت محدد في الماضي.</li>
<li data-ar="كلمات: yesterday, last year, in 2019, ago" data-en="Signals: yesterday, last year, in 2019, ago">كلمات: yesterday, last year, in 2019, ago</li>
</ul>
<div class="examples">
<em data-ar="مثال:" data-en="Example:">مثال:</em> I finished my project yesterday.
</div>
</div>
<div class="rule">
<strong>Future Forms <span class="sig">will / be going to / present continuous</span></strong>
<ul>
<li data-ar="will للتوقع/القرار اللحظي؛ going to للنية؛ المضارع المستمر للترتيبات." data-en="will for predictions/spontaneous decisions; going to for intentions; present continuous for arrangements.">will للتوقع/القرار اللحظي؛ going to للنية؛ المضارع المستمر للترتيبات.</li>
</ul>
<div class="examples">
<em data-ar="مثال:" data-en="Example:">مثال:</em> We are meeting the teacher at 5 pm.
</div>
</div>
</div>

<div class="callout">
<strong data-ar="أخطاء شائعة:" data-en="Common pitfalls:">أخطاء شائعة:</strong>
<ul>
<li data-ar="لا نستخدم present perfect مع yesterday/ago." data-en="Don’t use present perfect with yesterday/ago.">لا نستخدم present perfect مع yesterday/ago.</li>
<li data-ar="since + نقطة بداية، for + مدة." data-en="since + starting point, for + duration.">since + نقطة بداية، for + مدة.</li>
<li data-ar="حافظ على الاتساق الزمني داخل الفقرة." data-en="Maintain tense consistency within a paragraph.">حافظ على الاتساق الزمني داخل الفقرة.</li>
</ul>
</div>
</div>

<div>
<h3 data-ar="تمارين تطبيقية" data-en="Practice Exercises">تمارين تطبيقية</h3>
<div class="exercise" data-ex="mcq-u1">
<h4 data-ar="اختر الإجابة الصحيحة" data-en="Choose the correct answer">اختر الإجابة الصحيحة</h4>
<div class="q" data-qid="1" data-answer="did">
1) I ____ my homework two hours ago.
<select>
<option value="">---</option>
<option>did</option>
<option>have done</option>
</select>
</div>
<div class="q" data-qid="2" data-answer="have been">
2) They ____ to Salalah three times.
<select>
<option value="">---</option>
<option>went</option>
<option>have been</option>
</select>
</div>
<div class="q" data-qid="3" data-answer="since">
3) She hasn’t called me ____ Monday.
<select>
<option value="">---</option>
<option>for</option>
<option>since</option>
</select>
</div>
<div class="q" data-qid="4" data-answer="haven’t finished">
4) We ____ the report yet.
<select>
<option value="">---</option>
<option>didn’t finish</option>
<option>haven’t finished</option>
</select>
</div>
<div class="q" data-qid="5" data-answer="graduated">
5) He ____ in 2018.
<select>
<option value="">---</option>
<option>graduated</option>
<option>has graduated</option>
</select>
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>

<div class="exercise" data-ex="fix-u1">
<h4 data-ar="صحّح الأخطاء" data-en="Correct the mistakes">صحّح الأخطاء</h4>
<div class="q" data-qid="1" data-answer="I saw him yesterday.">
1) I have seen him yesterday.
<input type="text" placeholder="اكتب التصحيح هنا / Type correction here" />
</div>
<div class="q" data-qid="2" data-answer="We haven’t eaten for three hours.">
2) We haven’t eaten since three hours.
<input type="text" placeholder="اكتب التصحيح هنا / Type correction here" />
</div>
<div class="q" data-qid="3" data-answer="She has written the email.">
3) She has wrote the email.
<input type="text" placeholder="اكتب التصحيح هنا / Type correction here" />
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="show" data-ar="عرض الحل" data-en="Show answers">عرض الحل</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>
</div>
</div>

<!-- اختبار قصير للوحدة 1 -->
<div class="exercise" data-ex="quiz-u1">
<h4 data-ar="اختبار قصير (8 دقائق)" data-en="Short Quiz (8 min)">اختبار قصير (8 دقائق)</h4>
<div class="q" data-qid="1" data-answer="If I had slept earlier, I would be energetic now.">
A) Rewrite keeping meaning: If I slept earlier, I am energetic now. →
<input type="text" placeholder="اكتب إجابتك هنا / Type your answer" />
</div>
<div class="q" data-qid="2" data-answer="We are going to visit the museum tomorrow.">
B) Choose the best future form: We ____ visit the museum tomorrow. (will / are going to / are visiting)
<input type="text" placeholder="الإجابة الكاملة" />
</div>
<div class="q" data-qid="3" data-answer="I have lived here since 2020.">
C) since vs for: I ____ lived here ____ 2020.
<input type="text" placeholder="الإجابة الكاملة" />
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="show" data-ar="عرض الحل" data-en="Show answers">عرض الحل</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>
</section>

<!-- وحدة 2 -->
<section id="unit-2" class="unit" aria-labelledby="u2-title">
<div class="unit-header">
<h2 id="u2-title" class="unit-title" data-ar="الوحدة 2: الكلام المنقول والمبني للمجهول" data-en="Unit 2: Reported Speech and Passive Voice">الوحدة 2: الكلام المنقول والمبني للمجهول</h2>
<span class="pill" data-ar="الهدف: التحويل السليم بين التراكيب" data-en="Goal: Accurate transformation">الهدف: التحويل السليم بين التراكيب</span>
</div>

<div class="dual">
<div>
<h3 data-ar="الكلام المنقول باختصار" data-en="Reported Speech in brief">الكلام المنقول باختصار</h3>
<div class="rule">
<strong data-ar="تحويل الأزمنة" data-en="Backshifting tenses">تحويل الأزمنة</strong>
<ul>
<li>Present Simple → Past Simple</li>
<li>Present Continuous → Past Continuous</li>
<li>Present Perfect → Past Perfect</li>
<li>Will → Would</li>
</ul>
<div class="examples">
“I am tired.” → He said (that) he was tired.
</div>
</div>
<div class="rule" style="margin-top:10px">
<strong data-ar="الأسئلة والأوامر" data-en="Questions and commands">الأسئلة والأوامر</strong>
<ul>
<li data-ar="أسئلة: إزالة علامة الاستفهام وترتيب الجملة." data-en="Questions: remove question form, use statement order.">أسئلة: إزالة علامة الاستفهام وترتيب الجملة.</li>
<li data-ar="أوامر: tell/ask + object + to/not to" data-en="Commands: tell/ask + object + to/not to">أوامر: tell/ask + object + to/not to</li>
</ul>
<div class="examples">
“Where do you live?” → He asked where I lived.<br/>
“Don’t be late.” → He told me not to be late.
</div>
</div>
</div>

<div>
<h3 data-ar="المبني للمجهول باختصار" data-en="Passive Voice in brief">المبني للمجهول باختصار</h3>
<div class="rule">
<strong>be + V3</strong>
<ul>
<li data-ar="يتغيّر الفعل be حسب الزمن." data-en="be changes with the tense.">يتغيّر الفعل be حسب الزمن.</li>
</ul>
<div class="examples">
The letter was sent yesterday. / The results have been published.
</div>
</div>
<div class="exercise" data-ex="transform-u2" style="margin-top:10px">
<h4 data-ar="حوّل الجمل" data-en="Transform the sentences">حوّل الجمل</h4>
<div class="q" data-qid="1" data-answer="He said that he was tired.">
1) “I am tired.” →
<input type="text" />
</div>
<div class="q" data-qid="2" data-answer="He asked where I lived.">
2) “Where do you live?” →
<input type="text" />
</div>
<div class="q" data-qid="3" data-answer="He told me not to be late.">
3) “Don’t be late.” →
<input type="text" />
</div>
<div class="q" data-qid="4" data-answer="The report was written yesterday.">
4) Active → Passive: They wrote the report yesterday. →
<input type="text" />
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="show" data-ar="عرض الحل" data-en="Show answers">عرض الحل</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>
</div>
</div>
</section>

<!-- وحدة 3 -->
<section id="unit-3" class="unit" aria-labelledby="u3-title">
<div class="unit-header">
<h2 id="u3-title" class="unit-title" data-ar="الوحدة 3: الشرط والرغبات" data-en="Unit 3: Conditionals and Wishes">الوحدة 3: الشرط والرغبات</h2>
<span class="pill" data-ar="الهدف: التعبير عن الاحتمال والافتراض" data-en="Goal: Expressing possibility and hypotheticals">الهدف: التعبير عن الاحتمال والافتراض</span>
</div>

<div class="dual">
<div>
<h3 data-ar="الأنماط الأساسية" data-en="Core patterns">الأنماط الأساسية</h3>
<div class="rule">
<strong>Zero</strong>: If water boils, it turns into steam.
</div>
<div class="rule">
<strong>First</strong>: If you study, you will pass.
</div>
<div class="rule">
<strong>Second</strong>: If I were you, I would revise daily.
</div>
<div class="rule">
<strong>Third</strong>: If they had left early, they would have caught the bus.
</div>
<div class="rule">
<strong>Mixed</strong>: If I had slept earlier, I would be energetic now.
</div>
<div class="callout">
<strong data-ar="نصيحة:" data-en="Tip:">نصيحة:</strong>
<span data-ar="بعد If في النوع الثاني والثالث نستخدم الماضي البسيط/التام." data-en="After If in type 2/3 use past simple/perfect.">بعد If في النوع الثاني والثالث نستخدم الماضي البسيط/التام.</span>
</div>
</div>
<div>
<h3 data-ar="تطبيق سريع" data-en="Quick practice">تطبيق سريع</h3>
<div class="exercise" data-ex="cond-u3">
<div class="q" data-qid="1" data-answer="If you save money, you will buy a new laptop.">
1) Complete: If you save money, you ____ (buy) a new laptop.
<input type="text" />
</div>
<div class="q" data-qid="2" data-answer="If I were you, I would talk to the teacher.">
2) Rewrite (advice): Talk to the teacher. → If I were you, I ____.
<input type="text" />
</div>
<div class="q" data-qid="3" data-answer="If they had studied, they would have passed.">
3) Third: If they ____ (study), they ____ (pass).
<input type="text" />
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="show" data-ar="عرض الحل" data-en="Show answers">عرض الحل</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>
</div>
</div>
</section>

<!-- وحدة 4 -->
<section id="unit-4" class="unit" aria-labelledby="u4-title">
<div class="unit-header">
<h2 id="u4-title" class="unit-title" data-ar="الوحدة 4: الروابط والاتساق النصّي" data-en="Unit 4: Linking Words and Cohesion">الوحدة 4: الروابط والاتساق النصّي</h2>
<span class="pill" data-ar="الهدف: ربط الأفكار منطقياً" data-en="Goal: Logical flow and cohesion">الهدف: ربط الأفكار منطقياً</span>
</div>

<div class="dual">
<div>
<h3 data-ar="أنواع الروابط" data-en="Types of linkers">أنواع الروابط</h3>
<div class="rule">
<strong data-ar="تباين" data-en="Contrast">تباين</strong>: but, however, although, despite
</div>
<div class="rule">
<strong data-ar="سبب/نتيجة" data-en="Cause/Result">سبب/نتيجة</strong>: because, since, therefore, so, as a result
</div>
<div class="rule">
<strong data-ar="إضافة" data-en="Addition">إضافة</strong>: and, also, moreover, in addition
</div>
<div class="rule">
<strong data-ar="غرض" data-en="Purpose">غرض</strong>: to, so that, in order to
</div>
<div class="examples">
Although it was late, we continued studying. Therefore, we finished on time.
</div>
<div class="callout">
<strong data-ar="ملاحظة:" data-en="Note:">ملاحظة:</strong>
<span data-ar="بعد despite يأتي اسم/gerund، وبعد although جملة كاملة." data-en="Use a noun/gerund after despite; a full clause after although.">بعد despite يأتي اسم/gerund، وبعد although جملة كاملة.</span>
</div>
</div>
<div>
<h3 data-ar="تمرين ربط" data-en="Linking practice">تمرين ربط</h3>
<div class="exercise" data-ex="link-u4">
<div class="q" data-qid="1" data-answer="Although it was raining, we played football.">
1) (although) It was raining. We played football. →
<input type="text" />
</div>
<div class="q" data-qid="2" data-answer="We were tired; however, we finished the task.">
2) (however) We were tired. We finished the task. →
<input type="text" />
</div>
<div class="q" data-qid="3" data-answer="We left early so that we could catch the bus.">
3) (so that) We left early. We could catch the bus. →
<input type="text" />
</div>
<div class="action-row">
<button class="btn small primary" data-action="check" data-ar="تصحيح" data-en="Check">تصحيح</button>
<button class="btn small" data-action="show" data-ar="عرض الحل" data-en="Show answers">عرض الحل</button>
<button class="btn small" data-action="reset" data-ar="إعادة" data-en="Reset">إعادة</button>
<span class="score"></span>
</div>
<div class="feedback" aria-live="polite"></div>
</div>
</div>
</div>
</section>

</main>

<footer>
© <span id="year"></span> EduBloom. <span data-ar="نسخة تجريبية تعليمية." data-en="Educational preview version.">نسخة تجريبية تعليمية.</span>
</footer>

<script>
// رسم بسيط على الغلاف
(function(){
const c = document.getElementById('coverCanvas');
const ctx = c.getContext('2d');
const w = c.width, h = c.height;

function blob(cx, cy, r, color){
const g = ctx.createRadialGradient(cx, cy, r*0.2, cx, cy, r);
g.addColorStop(0, color);
g.addColorStop(1, 'rgba(255,255,255,0)');
ctx.fillStyle = g;
ctx.beginPath();
ctx.arc(cx, cy, r, 0, Math.PI*2);
ctx.fill();
}
ctx.clearRect(0,0,w,h);
blob(120,140,120,'rgba(42,125,225,.45)');
blob(280,110,100,'rgba(20,184,166,.45)');
blob(420,160,130,'rgba(99,102,241,.35)');

// شعار نصي
ctx.fillStyle = '#0f172a';
ctx.font = 'bold 28px system-ui, Segoe UI, Arial';
ctx.fillText('EduBloom', 24, 40);
ctx.font = '16px system-ui, Segoe UI, Arial';
ctx.fillText('English Grammar • Grades 11–12', 24, 64);

// أشكال ديكورية
function ring(x,y,r,stroke,color){
ctx.beginPath();
ctx.arc(x,y,r,0,Math.PI*2);
ctx.lineWidth = stroke;
ctx.strokeStyle = color;
ctx.stroke();
}
ring(460,60,26,3,'rgba(42,125,225,.5)');
ring(80,220,22,3,'rgba(20,184,166,.5)');
ring(360,210,18,3,'rgba(99,102,241,.5)');
})();

// تبديل اللغة ثنائي الاتجاه
(function(){
const btnAr = document.getElementById('btn-ar');
const btnEn = document.getElementById('btn-en');

function setLang(lang){
// Update buttons
[btnAr, btnEn].forEach(b => b.classList.remove('active'));
if(lang==='ar'){ btnAr.classList.add('active'); btnAr.setAttribute('aria-pressed','true'); btnEn.setAttribute('aria-pressed','false'); }
else{ btnEn.classList.add('active'); btnEn.setAttribute('aria-pressed','true'); btnAr.setAttribute('aria-pressed','false'); }

// Swap texts
document.querySelectorAll('[data-ar]').forEach(el=>{
const ar = el.getAttribute('data-ar');
const en = el.getAttribute('data-en');
if(lang==='ar'){ el.textContent = ar; document.documentElement.lang='ar'; document.documentElement.dir='rtl'; }
else{ el.textContent = en; document.documentElement.lang='en'; document.documentElement.dir='ltr'; }
});
}

btnAr.addEventListener('click',()=>setLang('ar'));
btnEn.addEventListener('click',()=>setLang('en'));
})();

// منطق التمارين العام: تصحيح/إظهار/إعادة
(function(){
function normalize(s){
return (s||'').trim().replace(/\s+/g,' ')
.replace(/[“”]/g,'"').replace(/[‘’]/g,"'")
.toLowerCase();
}

function checkExercise(exEl){
const qs = exEl.querySelectorAll('.q');
let correct = 0, total = 0;
qs.forEach(q=>{
total++;
const expected = q.getAttribute('data-answer');
const sel = q.querySelector('select');
const inp = q.querySelector('input');
let user = '';
if(sel){ user = sel.value; }
if(inp){ user = inp.value; }
if(normalize(user) && normalize(expected) === normalize(user)){
correct++;
}
});
const scoreEl = exEl.querySelector('.score');
if(scoreEl) scoreEl.textContent = `Score: ${correct}/${total}`;
const fb = exEl.querySelector('.feedback');
if(fb){
fb.innerHTML = correct===total
? `<span class="correct">Excellent! All correct.</span>`
: `<span class="incorrect">Keep trying. Review the rules and try again.</span>`;
}
}

function showAnswers(exEl){
const qs = exEl.querySelectorAll('.q');
qs.forEach(q=>{
const expected = q.getAttribute('data-answer') || '';
const sel = q.querySelector('select');
const inp = q.querySelector('input');
if(sel){
// Try to select the exact option text
Array.from(sel.options).forEach(opt=>{
if(opt.textContent.trim().toLowerCase() === expected.trim().toLowerCase()){
sel.value = opt.value || opt.textContent;
}
});
}
if(inp){ inp.value = expected; }
});
const scoreEl = exEl.querySelector('.score');
if(scoreEl) scoreEl.textContent = '';
const fb = exEl.querySelector('.feedback');
if(fb) fb.innerHTML = `<span class="correct">Answers filled in.</span>`;
}

function resetExercise(exEl){
exEl.querySelectorAll('select').forEach(s=>s.value='');
exEl.querySelectorAll('input').forEach(i=>i.value='');
const scoreEl = exEl.querySelector('.score');
if(scoreEl) scoreEl.textContent = '';
const fb = exEl.querySelector('.feedback');
if(fb) fb.textContent = '';
}

document.querySelectorAll('.exercise').forEach(ex=>{
ex.addEventListener('click', (e)=>{
const btn = e.target.closest('button[data-action]');
if(!btn) return;
const action = btn.getAttribute('data-action');
if(action==='check') checkExercise(ex);
if(action==='show') showAnswers(ex);
if(action==='reset') resetExercise(ex);
});
});
})();

// سنة الفوتر
document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
